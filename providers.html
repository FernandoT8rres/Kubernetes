<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Solicitud de Pedido</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/sweetalert2.css">
    <link rel="stylesheet" href="css/material.min.css">
    <link rel="stylesheet" href="css/material-design-iconic-font.min.css">
    <link rel="stylesheet" href="css/jquery.mCustomScrollbar.css">
    <link rel="stylesheet" href="css/main.css">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.2.min.js"><\/script>')</script>
    <script src="js/material.min.js"></script>
    <script src="js/sweetalert2.min.js"></script>
    <script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
    <script src="js/main.js"></script>
    <script type="module" src="js/history.js"></script>

    <style>
        .center-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
            font-family: Arial, sans-serif;
        }

        section {
            width: 100%;
            max-width: 1200px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
        }

        .tile {
            width: calc(33.333% - 20px);
            margin: 10px;
            padding: 20px;
            background-color: #f4f4f4;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgb(77, 184, 106);
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .tile:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgb(77, 184, 106);
        }

        .tile i {
            font-size: 48px;
            margin-bottom: 10px;
            color: #4CAF50;
        }

        .tile-text {
            font-size: 14px;
        }

        .tile-text small {
            font-size: 12px;
            color: #666;
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
            }

            section {
                flex-direction: column;
            }

            .tile {
                width: 90%;
            }
        }

		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		header {
			background-color: white;
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 10px;
		}

		nav {

			display: grid;
			flex-wrap: wrap;
			justify-content: center;
			align-items: center;
			text-align: center;
			align-content: center;
			padding: 10px 20px;
		}

		nav ul {
			list-style: none;
			display: flex;
			flex-wrap: wrap;
			margin: 0;
			padding: 0;
			transition: all .3s ease-in-out;
			border-radius: 5px;
		}

		nav ul li {
			position: relative;
			margin: 0 10px;
		}

		nav ul li a {
			text-decoration: none;
			color: black;
			padding: 10px 15px;
			display: flex;
			align-items: center;
			gap: 10px;
			position: relative;
			transition: all 0.3s ease;
		}

		nav ul li a:hover {
			background-color: rgba(40, 167, 69, 0.1);
			color: #28a745;
			border-radius: 5px;
			transform: translateX(5px);
		}

		nav ul li a span {

			display: block;
			height: 100%;
			width: 100%;
			left: 0;
			position: absolute;
			top: -55px;
			z-index: -1;
			transition: all 0.3s ease;
		}

		nav ul li:hover>ul {
			display: block;
		}

		nav ul li ul {
			display: none;
			position: absolute;
			top: 100%;
			left: 0;
			background-color: #000000;
			padding: 0;
			margin: 0;
			width: 200px;
			z-index: 10;
		}

		nav ul li ul li {
			text-align: left;
		}

		nav ul li ul li a {
			padding: 10px 15px;
			color: black;
			text-align: left;
			display: flex;
			gap: 10px;
		}

		nav ul li ul li a:hover {
			background-color: rgba(40, 167, 69, 0.1);
			color: #28a745;
			transform: translateX(5px);
		}

		nav ul li ul {
			display: none;
			position: absolute;
			top: 100%;
			left: 50%;
			transform: translateX(-50%);
			background-color: white;
			padding: 10px 0;
			margin: 0;
			width: 240px;
			text-align: center;
			z-index: 10;
		}

		nav ul li:hover>ul {
			display: block;
		}

		nav ul li ul li a {
			padding: 10px 20px;
			color: black;
			text-align: center;
			display: flex;
			justify-content: center;
			align-items: center;
		}

		nav ul li ul li a:hover {
			background-color: rgba(40, 167, 69, 0.1);
			color: #28a745;
			border-radius: 5px;
			transform: translateX(5px);
		}

		.user-info {
			color: black;
			margin-top: auto;
			padding: 10px 15px;
		}

		@media (max-width: 768px) {
			nav ul li ul {
				width: 100%;
				left: 0;
				transform: none;
			}
		}


		/* Responsive styles */
		@media (max-width: 768px) {
			nav ul {
				flex-direction: column;
				width: 100%;
			}

			nav ul li {
				width: 100%;
				text-align: center;
			}

			nav ul li ul {
				position: static;
			}
		}

		.logo {
			display: flex;
			height: 200px;
			margin-right: 15px;
		}

		/* Botón hamburguesa */
		.menu-toggle {
			display: none;
			background: none;
			border: none;
			font-size: 28px;
			cursor: pointer;
			position: fixed;
			left: 20px;
			top: 20px;
			z-index: 20;
			color: #333;
		}

		/* Menú desplegable en dispositivos móviles */
		@media (max-width: 768px) {
			.menu-toggle {
				display: block;
			}

			nav {
				position: fixed;
				top: 0;
				left: -100%;
				width: 300px;
				height: 100%;
				background-color: white;
				box-shadow: 2px 0 10px rgba(0, 0, 0, 0.2);
				transition: transform 0.4s ease, left 0.4s ease;
				z-index: 15;
			}

			nav.open {
				left: 0;
				transform: translateX(0);
			}

			.user-info {
				padding: 20px;
				font-size: 16px;
				font-weight: 600;
				color: #666;
				background-color: #f9f9f9;
				border-bottom: 1px solid #eaeaea;
			}

			nav ul {
				flex-direction: column;
				padding: 0;
				margin: 0;
				list-style: none;
				width: 100%;
			}

			nav ul li {
				width: 100%;
				text-align: left;
			}

			nav ul li a {
				display: flex;
				align-items: center;
				gap: 10px;
				padding: 15px 20px;
				font-size: 16px;
				font-weight: 500;
				color: #333;
				text-decoration: none;
				border-bottom: 1px solid #eaeaea;
				transition: background-color 0.3s ease, transform 0.3s ease;
			}

			nav ul li a:hover {
				background-color: rgba(40, 167, 69, 0.1);
				color: #28a745;
				transform: translateX(5px);
			}

			nav ul li ul {
				display: none;
				padding-left: 20px;
				background-color: white;
			}

			nav ul li:hover>ul {
				display: block;
			}

			nav ul li ul li a {
				padding: 10px 20px;
				font-size: 14px;
				color: #555;
			}

			nav ul li ul li a:hover {
				background-color: rgba(40, 167, 69, 0.1);
				color: #28a745;
			}
		}
    </style>
</head>

<body>
    <header>
        <div class="logo">
            <img src="assets/img/cfe-logo.png" alt="logo">
        </div>
        <button class="menu-toggle" id="menuToggle">
            <i class="zmdi zmdi-menu"></i>
        </button>
        <nav id="mainNav">
            <div class="user-info">
                <span>Bienvenido: <strong id="loggedUser">Cargando...</strong></span>
            </div>
            <ul>
                <li><a href="home.html"><i class="zmdi zmdi-view-dashboard"></i>Inicio</a></li>
                <li>
                    <a href="#"><i class="zmdi zmdi-case"></i>Administración</a>
                    <ul>
                        <li><a href="providers.html"><i class="zmdi zmdi-truck"></i>Generar Entrada</a></li>
                        <li><a href="sales.html"><i class="zmdi zmdi-shopping-cart"></i>Entradas</a></li>
                        <li><a href="generate.html"><i class="zmdi zmdi-comment-edit"></i>Generar Salida</a></li>
                        <li><a href="exits.html"><i class="zmdi zmdi-square-right"></i>Salidas</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#"><i class="zmdi zmdi-local-store"></i>Almacén</a>
                    <ul>
                        <li><a href="inventory.html"><i class="zmdi zmdi-local-store"></i>Ver Almacén</a></li>
                        <li><a href="products.html"><i class="zmdi zmdi-plus-circle"></i>Registrar Producto</a></li>
                        <li><a href="edit.html"><i class="zmdi zmdi-edit"></i>Editar Producto</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#"><i class="zmdi zmdi-face"></i>Usuario</a>
                    <ul>
                        <li><a href="admin.html"><i class="zmdi zmdi-account-o"></i>Administrador</a></li>
                        <li><a href="provider.html"><i class="zmdi zmdi-accounts-add"></i>Proveedores</a></li>
                        <li><a href="dispatcher.html"><i class="zmdi zmdi-accounts-outline"></i>Despachadores</a>
                        </li>
                        <li><a href="client.html"><i class="zmdi zmdi-accounts-alt"></i>Clientes</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#"><i class="zmdi zmdi-wrench"></i>Ajustes</a>
                    <ul>
                        <li><a href="history.html"><i class="zmdi zmdi-time-restore"></i>Historial</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </header>
    <!-- Encabezado -->
    <section class="full-width header-well">
        <div class="center-icon full-width header-well-icon">
            <i class="zmdi zmdi-truck"></i>
        </div>
        <div class="full-width header-well-text">
            <p class="text-condensedLight">
            </p>
        </div>
    </section>
    <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
        <div class="mdl-tabs__panel is-active" id="tabNewProvider">
            <div class="mdl-grid">
                <div class="mdl-cell mdl-cell--12-col">
                    <div class="full-width panel mdl-shadow--2dp">
                        <div class="full-width panel-tittle bg-primary text-center tittles">
                            Entrada
                        </div>
                        <div class="full-width panel-content">
                            <!-- Formulario -->
                            <form id="order-form">
                                <div class="mdl-grid">
                                    <!-- Selección de Producto -->
                                    <div class="mdl-cell mdl-cell--6-col">
                                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                            <select class="mdl-textfield__input" id="productId" required>
                                                <option value="" disabled selected>Selecciona un ID</option>
                                            </select>
                                            <label class="mdl-textfield__label" for="productId"></label>
                                        </div>
                                    </div>
                                    <!-- Nombre del Producto -->
                                    <div class="mdl-cell mdl-cell--6-col">
                                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                            <input class="mdl-textfield__input" type="text" id="productName" readonly>
                                            <label class="mdl-textfield__label" for="productName">Nombre del
                                                Producto</label>
                                        </div>
                                    </div>
                                    <!-- Cantidad -->
                                    <div class="mdl-cell mdl-cell--6-col">
                                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                            <input class="mdl-textfield__input" type="number" id="productStock" min="0"
                                                required>
                                            <label class="mdl-textfield__label" for="productStock">Cantidad</label>
                                        </div>
                                    </div>
                                    <!-- Selección de Cliente -->
                                    <div class="mdl-cell mdl-cell--6-col">
                                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                            <select class="mdl-textfield__input" id="clientSelect" required>
                                                <option value="" disabled selected>Selecciona un cliente</option>
                                            </select>
                                            <label class="mdl-textfield__label" for="clientSelect"></label>
                                        </div>
                                    </div>
                                </div>
                                <p class="text-center">
                                    <button type="button"
                                        class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"
                                        id="add-product">
                                        Añadir Producto
                                    </button>
                                </p>
                            </form>
                            <!-- Tabla de productos -->
                            <div class="mdl-grid">
                                <div class="mdl-cell mdl-cell--12-col">
                                    <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp full-width">
                                        <thead>
                                            <tr>
                                                <th>ID Artículo</th>
                                                <th>Nombre</th>
                                                <th>Cantidad</th>
                                                <th>Proveedor</th>
                                                <th>Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody id="product-list">
                                            <!-- Los productos añadidos aparecerán aquí -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <!-- Botón para enviar solicitud -->
                            <div class="mdl-grid">
                                <div class="mdl-cell mdl-cell--12-col text-center">
                                    <button type="button"
                                        class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored bg-primary"
                                        id="submit-order">
                                        Enviar Solicitud
                                    </button>
                                </div>
                            </div>
                            <div id="response"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </section>

    <script>
document.addEventListener("DOMContentLoaded", function () {
    // Cargar el nombre del usuario logueado
    const loggedUserElement = document.getElementById("loggedUser");
    const userFullName = localStorage.getItem("loggedInUser") || "Usuario no identificado";
    loggedUserElement.innerText = userFullName;

    // Array para almacenar productos seleccionados
    let currentOrder = [];

    // Cargar productos desde la base de datos
    loadProducts();
    
    // Cargar clientes desde la base de datos
    loadClients();

    // Configurar eventos
    document.getElementById("productId").addEventListener("change", updateProductName);
    document.getElementById("add-product").addEventListener("click", addProductToOrder);
    document.getElementById("submit-order").addEventListener("click", submitOrder);
    
    // También escuchar clics en el botón de eliminar (delegación de eventos)
    document.getElementById("product-list").addEventListener("click", function(e) {
        if (e.target.classList.contains("zmdi-delete") || e.target.closest(".delete-product")) {
            const row = e.target.closest("tr");
            const index = row.getAttribute("data-index");
            removeProductFromOrder(index);
        }
    });

    // Función para cargar productos
    function loadProducts() {
        fetch("get_productss.php")
            .then(response => response.json())
            .then(data => {
                const productSelect = document.getElementById("productId");
                // Limpiar opciones existentes excepto la primera (placeholder)
                productSelect.innerHTML = '<option value="" disabled selected>Selecciona un ID</option>';
                
                // Añadir opciones de productos
                data.forEach(product => {
                    const option = document.createElement("option");
                    option.value = product.id;
                    option.textContent = `${product.id} - ${product.codigo}`;
                    option.dataset.name = product.nombre_producto;
                    productSelect.appendChild(option);
                });
                
                // Reinicializar componentes MDL
                componentHandler.upgradeElement(productSelect.parentElement);
            })
            .catch(error => {
                console.error("Error al cargar productos:", error);
                alert("Error al cargar la lista de productos. Por favor, intente de nuevo.");
            });
    }

    // Función para cargar clientes
    function loadClients() {
        fetch("get_clients.php")
            .then(response => response.json())
            .then(data => {
                const clientSelect = document.getElementById("clientSelect");
                // Limpiar opciones existentes excepto la primera (placeholder)
                clientSelect.innerHTML = '<option value="" disabled selected>Selecciona un cliente</option>';
                
                // Añadir opciones de clientes
                data.forEach(client => {
                    const option = document.createElement("option");
                    option.value = client.id;
                    option.textContent = client.nombre;
                    clientSelect.appendChild(option);
                });
                
                // Reinicializar componentes MDL
                componentHandler.upgradeElement(clientSelect.parentElement);
            })
            .catch(error => {
                console.error("Error al cargar clientes:", error);
                alert("Error al cargar la lista de clientes. Por favor, intente de nuevo.");
            });
    }

    // Función para actualizar el nombre del producto cuando se selecciona un ID
    function updateProductName() {
        const productSelect = document.getElementById("productId");
        const productNameInput = document.getElementById("productName");
        
        const selectedOption = productSelect.options[productSelect.selectedIndex];
        
        if (selectedOption && selectedOption.dataset.name) {
            productNameInput.value = selectedOption.dataset.name;
            // Revalidar el campo con Material Design Lite
            productNameInput.parentElement.classList.add("is-dirty");
        } else {
            productNameInput.value = "";
            productNameInput.parentElement.classList.remove("is-dirty");
        }
    }

    // Función para añadir un producto a la orden
    function addProductToOrder() {
        const productId = document.getElementById("productId").value;
        const productName = document.getElementById("productName").value;
        const quantity = document.getElementById("productStock").value;
        const clientSelect = document.getElementById("clientSelect");
        const clientId = clientSelect.value;
        const clientName = clientSelect.options[clientSelect.selectedIndex].text;
        
        // Validación básica
        if (!productId || !productName || !quantity || !clientId || quantity <= 0) {
            alert("Por favor complete todos los campos correctamente.");
            return;
        }
        
        // Crear objeto para el producto
        const productItem = {
            productId,
            productName,
            quantity,
            clientId,
            clientName
        };
        
        // Añadir a la lista de productos
        currentOrder.push(productItem);
        
        // Actualizar la tabla
        updateProductList();
        
        // Resetear los campos del formulario
        document.getElementById("productId").value = "";
        document.getElementById("productName").value = "";
        document.getElementById("productStock").value = "";
        document.getElementById("clientSelect").value = "";
        
        // Resetear el estado de MDL
        document.getElementById("productId").parentElement.classList.remove("is-dirty");
        document.getElementById("productName").parentElement.classList.remove("is-dirty");
        document.getElementById("productStock").parentElement.classList.remove("is-dirty");
        document.getElementById("clientSelect").parentElement.classList.remove("is-dirty");
    }

    // Función para actualizar la lista de productos
    function updateProductList() {
        const productList = document.getElementById("product-list");
        productList.innerHTML = "";
        
        currentOrder.forEach((item, index) => {
            const row = document.createElement("tr");
            row.setAttribute("data-index", index);
            
            row.innerHTML = `
                <td>${item.productId}</td>
                <td>${item.productName}</td>
                <td>${item.quantity}</td>
                <td>${item.clientName}</td>
                <td>
                    <button class="mdl-button mdl-js-button mdl-button--icon delete-product">
                        <i class="zmdi zmdi-delete"></i>
                    </button>
                </td>
            `;
            
            productList.appendChild(row);
        });
        
        // Si la lista está vacía, mostrar mensaje
        if (currentOrder.length === 0) {
            const emptyRow = document.createElement("tr");
            emptyRow.innerHTML = `<td colspan="5" class="text-center">No hay productos añadidos</td>`;
            productList.appendChild(emptyRow);
        }
    }

    // Función para eliminar un producto de la orden
    function removeProductFromOrder(index) {
        currentOrder.splice(index, 1);
        updateProductList();
    }

    // Función para enviar la orden
    function submitOrder() {
        if (currentOrder.length === 0) {
            alert("No hay productos añadidos a la solicitud.");
            return;
        }
        
        // Obtener información del usuario logueado
        const loggedUser = localStorage.getItem("loggedInUser") || "Usuario no identificado";
        
        // Preparar datos para enviar
        const orderData = {
            items: currentOrder,
            user: loggedUser,
            date: new Date().toISOString().split('T')[0] // Formato YYYY-MM-DD
        };
        
        // Enviar al servidor
        fetch("save_entry.php", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(orderData)
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                alert("Entrada registrada correctamente.");
                // Limpiar la orden actual
                currentOrder = [];
                updateProductList();
            } else {
                alert("Error al registrar la entrada: " + data.message);
            }
        })
        .catch(error => {
            console.error("Error:", error);
            alert("Ha ocurrido un error al procesar la solicitud.");
        });
    }

    // Configurar menú responsive
    const menuToggle = document.getElementById("menuToggle");
    const mainNav = document.getElementById("mainNav");

    menuToggle.addEventListener("click", function () {
        mainNav.classList.toggle("open");
    });

    document.addEventListener("click", function (event) {
        if (!mainNav.contains(event.target) && !menuToggle.contains(event.target)) {
            mainNav.classList.remove("open");
        }
    });
});
document.addEventListener("DOMContentLoaded", function () {
    // Cargar el nombre del usuario logueado
    const loggedUserElement = document.getElementById("loggedUser");
    const userFullName = localStorage.getItem("loggedInUser") || "Usuario no identificado";
    loggedUserElement.innerText = userFullName;
    
    // Cargar entradas desde la base de datos
    loadExits();
    
    // Configurar el botón de menú responsive
    const menuToggle = document.getElementById("menuToggle");
    const mainNav = document.getElementById("mainNav");

    menuToggle.addEventListener("click", function () {
        mainNav.classList.toggle("open");
    });

    document.addEventListener("click", function (event) {
        if (!mainNav.contains(event.target) && !menuToggle.contains(event.target)) {
            mainNav.classList.remove("open");
        }
    });
    
    // Escuchar clics en el botón de eliminar
    document.getElementById("exits-list").addEventListener("click", function(e) {
        if (e.target.classList.contains("zmdi-delete") || e.target.closest(".delete-exit")) {
            const exitId = e.target.closest("button").getAttribute("data-index");
            if (confirm("¿Estás seguro de eliminar esta entrada?")) {
                deleteExit(exitId);
            }
        }
    });
});

function loadExits() {
    const exitsList = document.getElementById("exits-list");
    fetch("load_exits.php")
        .then(response => response.json())
        .then(data => {
            exitsList.innerHTML = ""; // Limpiar la tabla antes de cargar
            
            if (data.length === 0) {
                exitsList.innerHTML = `
                    <tr>
                        <td colspan="7" class="text-center">No hay entradas registradas</td>
                    </tr>`;
                return;
            }
            
            data.forEach(exit => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${exit.productId}</td>
                    <td>${exit.productName}</td>
                    <td>${exit.quantity}</td>
                    <td>${exit.client}</td>
                    <td>${exit.exitDate}</td>
                    <td>${exit.remarks}</td>
                    <td>
                        <button class="mdl-button mdl-js-button mdl-button--icon delete-exit" data-index="${exit.id}">
                            <i class="zmdi zmdi-delete"></i>
                        </button>
                    </td>
                `;
                exitsList.appendChild(row);
            });
        })
        .catch(error => {
            console.error("Error al cargar entradas:", error);
            exitsList.innerHTML = `
                <tr>
                    <td colspan="7" class="text-center">Error al cargar entradas</td>
                </tr>`;
        });
}

function deleteExit(exitId) {
    fetch("delete_exit.php", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({ id: exitId })
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert("Entrada eliminada correctamente.");
            loadExits(); // Recargar la lista
        } else {
            alert("Error al eliminar la entrada: " + data.message);
        }
    })
    .catch(error => {
        console.error("Error:", error);
        alert("Ha ocurrido un error al procesar la solicitud.");
    });
}
        document.addEventListener("DOMContentLoaded", function () {

            const loggedUserElement = document.getElementById("loggedUser");

            let currentOrder = [];

            // Configurar usuario logueado
            const userFullName = localStorage.getItem("loggedInUser") || "Usuario no identificado";
            loggedUserElement.innerText = userFullName;

            // Configurar menú y logout
            const menuToggle = document.getElementById("menuToggle");
            const mainNav = document.getElementById("mainNav");

            menuToggle.addEventListener("click", function () {
                mainNav.classList.toggle("open");
            });

            document.addEventListener("click", function (event) {
                if (!mainNav.contains(event.target) && !menuToggle.contains(event.target)) {
                    mainNav.classList.remove("open");
                }
            });

            const btnExit = document.getElementById("btn-exit");
            if (btnExit) {
                btnExit.addEventListener("click", function () {
                    localStorage.removeItem("loggedInUser");
                    window.location.href = "login.html";
                });
            }
        });


    </script>

</body>

</html>